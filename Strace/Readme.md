# Minecraft Client Mod Scanner Web App

A preliminary web app to scan minecraft client mods for malware. Currently, the only scaning module that is implemented uses the Java reflections api to load and attempt to execute all of the methods/classes in the mod jar. More modules to come.

The app is written almost entirely in Python, except the class loading module, which is in Java. Uses Flask to host the front end, RabbitMQ to pass messages, MongoDB to store state/analysis results and the Cuckoo sandbox to run analysis modules.

To run, ensure that a mongodb instance and rabbitmq instance are running at the locations indicated in config.py. Then, run cuckoo and the cuckoo api programs (these are two separate programs - cuckoo needs to be downloaded and configured separately). Then, run the cuckoo rabbitmq consumer python program and server.py flask server. The web app will be available at either localhost or 0.0.0.0 on the running machine, on port 5000 or a different port, depending on the options passed to server.py. Now you can upload a minecraft mod jar through the web interface. Currently, if a jar has already been uploaded, the analysis will not be re-run.

##Cuckoo

To use with cuckoo, place the classloader.py module into the modules/packages directory of whatever VM target you are using (e.g., Linux), as well as the dependencies, such as the strace analyzer python code. The target VM has to have the scanner.jar Java scanner installed inside of it (and this installation path is currently hardcoded in the classloader.py module), as well as Java 7 and strace (at /usr/bin/strace). Make sure that the VM (eg a KVM VM) is configured to boot off of the correct snapshot in the cuckoo config and that it has a static IP. This VM also has to have the cuckoo agent installed and running (the agent.py python script). Also, the snapshot has to be a live snapshot so that the VM is running when cuckoo restores this snapshot - therefore, the cuckoo agent does not have to be run as a service, but it is easier to create an upstart service to launch it at boot anyway.
